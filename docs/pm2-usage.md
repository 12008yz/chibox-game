# Памятка по использованию PM2 для вашего проекта

## Установка PM2

```bash
npm install -g pm2
```

## Запуск приложения и фоновых задач

В корне проекта создан файл `ecosystem.config.js`, который описывает процессы для PM2.

Запуск всех процессов:

```bash
pm2 start ecosystem.config.js
```

## Основные команды PM2

- Просмотр статуса процессов:

```bash
pm2 status
```

- Просмотр логов:

```bash
pm2 logs
```

- Перезапуск всех процессов (например, после внесения изменений в код):

```bash
pm2 restart ecosystem.config.js
```

- Перезапуск отдельного процесса по имени или ID:

```bash
pm2 restart backend-server
pm2 restart daily-case-issuer
```

- Остановка процесса:

```bash
pm2 stop <name|id>
```

- Удаление процесса из PM2:

```bash
pm2 delete <name|id>
```

## Автозапуск PM2 при перезагрузке сервера

Для настройки автозапуска выполните:

```bash
pm2 startup
pm2 save
```

## Рекомендации

- Для разработки можно включить режим `watch` в `ecosystem.config.js`, чтобы процессы автоматически перезапускались при изменении файлов.
- Для продакшена рекомендуется отключить `watch` и использовать перезапуск вручную.

---

Эта памятка поможет вам удобно управлять сервером и фоновыми задачами с помощью PM2.
